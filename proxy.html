<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste Local - Proxy App (Simula Shopify)</title>
    <style>
      /* 
        ‚ö†Ô∏è IMPORTANTE: Este arquivo √© APENAS para desenvolvimento local.
        Ele N√ÉO √© inclu√≠do no build principal e N√ÉO afeta o sistema.
        
        Estilos aqui s√£o seguros porque:
        1. proxy.html n√£o √© usado no build (vite.config.ts garante isso)
        2. Estilos s√£o espec√≠ficos para containers do proxy
        3. N√£o h√° risco de vazamento para o sistema principal
      */
      
      /* Simula o ambiente do Shopify - fundo branco como no tema */
      /* Escopo: apenas quando proxy.html √© acessado diretamente */
      body { 
        background-color: white; 
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      }
      
      /* Containers como no Shopify - sem padding extra, sem max-width */
      /* Escopo: apenas containers do proxy (n√£o afeta sistema principal) */
      #root, #chargemind-proxy-root {
        width: 100%;
        display: block;
        visibility: visible;
        background-color: white;
        color: #1A1A1A;
      }
    </style>
  </head>
  <body>
    <!-- Containers como gerados pela Edge Function do Shopify -->
    <div id="root" style="width: 100%; display: block; visibility: visible;"></div>
    <div id="chargemind-proxy-root" style="width: 100%; display: block; visibility: visible;"></div>

    <script>
      // Simula os dados que a Edge Function injeta
      // Em desenvolvimento local, o ResolutionHub buscar√° do Supabase se estiver logado
      // Caso contr√°rio, usa os dados mockados abaixo
      window.CHARGEMIND_DATA = {
        shop: "loja-teste.myshopify.com",
        branding: {
          // Deixe vazio para simular busca do Supabase em localhost
          // Ou preencha com dados reais para testar branding espec√≠fico
          brand_color: null,
          brand_text_color: null,
          logo_url: null,
          heading: null
        },
        useMockData: new URLSearchParams(window.location.search).get('mock') === 'true'
      };
      
      console.log("üì¶ CHARGEMIND_DATA (local):", window.CHARGEMIND_DATA);
      console.log("üí° Dica: Em localhost, o ResolutionHub busca branding do Supabase se voc√™ estiver logado");
      console.log("üí° Use ?mock=true na URL para for√ßar dados mockados");
    </script>

    <script type="module" src="/src/proxy-index.tsx"></script>
  </body>
</html>
